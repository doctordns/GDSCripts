$page1 = @"
<TITLE>Grateful Dead Setlists: 1989</TITLE>
<H1>Grateful Dead Setlists: 1989</H1>
<UL>
<LI><a href="dead-sets/89/2-5-89.txt">
Henry J Kaiser, Oakland, CA (2/5/89)</a>
<LI><a href="dead-sets/89/2-6-89.txt">
Henry J. Kaiser Convention Center - Chinese New Year (2/6/89)</a>
<LI><a href="dead-sets/89/2-7-89.txt">
Henry J. Kaiser Convention Center (Mardi Gras) (2/7/89)</a>
<LI><a href="dead-sets/89/2-10-89.txt">
Forum, Los Angeles CA (2/10/89)</a>
<LI><a href="dead-sets/89/2-11-89.txt">
Forum, Los Angeles CA (2/11/89)</a>
<LI><a href="dead-sets/89/2-12-89.txt">
Forum, Los Angeles CA (2/12/89)</a>
<LI><a href="dead-sets/89/3-27-89.txt">
The Omni, Atlanta GA (3/27/89)</a>
<LI><a href="dead-sets/89/3-28-89.txt">
The Omni, Atlanta GA (3/28/89)</a>
<LI><a href="dead-sets/89/3-30-89.txt">
Greensboro Coliseum, Greensboro NC (3/30/89)</a>
<LI><a href="dead-sets/89/3-31-89.txt">
Greensboro Coliseum, Greensboro NC (3/31/89)</a>
<LI><a href="dead-sets/89/4-2-89.txt">
Civic Arena, Pittsburgh PA (4/2/89)</a>
<LI><a href="dead-sets/89/4-3-89.txt">
Civic Arena, Pittsburgh PA (4/3/89)</a>
<LI><a href="dead-sets/89/4-5-89.txt">
Chrysler Arena, Ann Arbor MI (4/5/89)</a>
<LI><a href="dead-sets/89/4-6-89.txt">
Chrysler Arena, Ann Arbor MI (4/6/89)</a>
<LI><a href="dead-sets/89/4-8-89.txt">
Riverfront Coliseum, Cincinnati OH (4/8/89)</a>
<LI><a href="dead-sets/89/4-9-89.txt">
Freedom Hall, Louisville KY (4/9/89)</a>
<LI><a href="dead-sets/89/4-11-89.txt">
Rosemont Horizon, Rosemont IL (4/11/89)</a>
<LI><a href="dead-sets/89/4-12-89.txt">
Rosemont Horizon, Rosemont IL (4/12/89)</a>
<LI><a href="dead-sets/89/4-13-89.txt">
Rosemont Horizon, Rosemont IL (4/13/89)</a>
<LI><a href="dead-sets/89/4-15-89.txt">
The MECCA, Milwaukee WI (4/15/89)</a>
<LI><a href="dead-sets/89/4-16-89.txt">
The MECCA, Milwaukee WI (4/16/89)</a>
<LI><a href="dead-sets/89/4-17-89.txt">
Met Center, Minneapolis MN (4/17/89)</a>
<LI><a href="dead-sets/89/4-28-89.txt">
Irvine Meadows, Irvine CA (4/28/89)</a>
<LI><a href="dead-sets/89/4-29-89.txt">
Irvine Meadows, Irvine CA (4/29/89)</a>
<LI><a href="dead-sets/89/4-30-89.txt">
Irvine Meadows, Irvine CA (4/30/89)</a>
<LI><a href="dead-sets/89/5-6-89.txt">
Frost Ampitheatre, Stanford CA (5/6/89)</a>
<LI><a href="dead-sets/89/5-7-89.txt">
Frost Ampitheatre, Stanford CA (5/7/89)</a>
<LI><a href="dead-sets/89/5-27-89.txt">
Oakland-Alameda County Stadium, Oakland CA (5/27/89)</a>
<LI><a href="dead-sets/89/6-18-89.txt">
Shoreline Amphitheater (6/18/89)</a>
<LI><a href="dead-sets/89/6-19-89.txt">
Shoreline Amphitheater (6/19/89)</a>
<LI><a href="dead-sets/89/6-21-89.txt">
Shoreline Amphitheater (6/21/89)</a>
<LI><a href="dead-sets/89/7-2-89.txt">
Foxboro Sullivan (7/2/89)</a>
<LI><a href="dead-sets/89/7-4-89.txt">
Orchard Park Rich (7/4/89)</a>
<LI><a href="dead-sets/89/7-7-89.txt">
Philadelphia JFK (7/7/89)</a>
<LI><a href="dead-sets/89/7-9-89.txt">
Giants Stadium (7/9/89)</a>
<LI><a href="dead-sets/89/7-10-89.txt">
Giants Stadium (7/10/89)</a>
<LI><a href="dead-sets/89/7-12-89.txt">
Washington RFK (7/12/89)</a>
<LI><a href="dead-sets/89/7-13-89.txt">
Washington RFK (7/13/89)</a>
<LI><a href="dead-sets/89/7-15-89.txt">
Deer Creek IN (7/15/89)</a>
<LI><a href="dead-sets/89/7-17-89.txt">
Alpine Valley Music Theatre, East Troy WI (7/17/89)</a>
<LI><a href="dead-sets/89/7-18-89.txt">
Alpine Valley Music Theatre, East Troy WI (7/18/89)</a>
<LI><a href="dead-sets/89/7-19-89.txt">
Alpine Valley Music Theatre, East Troy WI (7/19/89)</a>
<LI><a href="dead-sets/89/8-4-89.txt">
Cal Expo, Sacramento CA (8/4/89)</a>
<LI><a href="dead-sets/89/8-5-89.txt">
Cal Expo, Sacramento CA (8/5/89)</a>
<LI><a href="dead-sets/89/8-6-89.txt">
Cal Expo, Sacramento CA (8/6/89)</a>
<LI><a href="dead-sets/89/8-17-89.txt">
Greek Theatre, Berkeley CA (8/17/89)</a>
<LI><a href="dead-sets/89/8-18-89.txt">
The Greek Theatre, Berkeley CA (8/18/89)</a>
<LI><a href="dead-sets/89/8-19-89.txt">
The Greek Theatre, Berkeley CA (8/19/89)</a>
<LI><a href="dead-sets/89/9-29-89.txt">
Shoreline Ampitheatre (9/29/89)</a>
<LI><a href="dead-sets/89/9-30-89.txt">
Shoreline Ampitheatre (9/30/89)</a>
<LI><a href="dead-sets/89/10-1-89.txt">
Shoreline Ampitheatre (10/1/89)</a>
<LI><a href="dead-sets/89/10-8-89.txt">
Hampton Coliseum, Hampton VA (10/8/89)</a>
<LI><a href="dead-sets/89/10-9-89.txt">
Hampton Coliseum, Hampton VA (10/9/89)</a>
<LI><a href="dead-sets/89/10-11-89.txt">
Meadowlands Arena (10/11/89)</a>
<LI><a href="dead-sets/89/10-12-89.txt">
Meadowlands Arena (10/12/89)</a>
<LI><a href="dead-sets/89/10-14-89.txt">
Meadowlands Arena (10/14/89)</a>
<LI><a href="dead-sets/89/10-15-89.txt">
Meadowlands Arena (10/15/89)</a>
<LI><a href="dead-sets/89/10-16-89.txt">
Meadowlands Arena (10/16/89)</a>
<LI><a href="dead-sets/89/10-18-89.txt">
The Spectrum, Philadelphia PA (10/18/89)</a>
<LI><a href="dead-sets/89/10-19-89.txt">
The Spectrum, Philadelphia PA (10/19/89)</a>
<LI><a href="dead-sets/89/10-20-89.txt">
The Spectrum, Philadelphia PA (10/20/89)</a>
<LI><a href="dead-sets/89/10-22-89.txt">
Charlotte NC (10/22/89)</a>
<LI><a href="dead-sets/89/10-23-89.txt">
Charlotte NC (10/23/89)</a>
<LI><a href="dead-sets/89/10-25-89.txt">
Miami FL (10/25/89)</a>
<LI><a href="dead-sets/89/10-26-89.txt">
Miami FL (10/26/89)</a>
<LI><a href="dead-sets/89/12-6-89.txt">
Oakland Coliseum (12/6/89)</a>
<LI><a href="dead-sets/89/12-8-89.txt">
LA Forum (12/8/89)</a>
<LI><a href="dead-sets/89/12-9-89.txt">
LA Forum (12/9/89)</a>
<LI><a href="dead-sets/89/12-10-89.txt">
LA Forum (12/10/89)</a>
<LI><a href="dead-sets/89/12-27-89.txt">
Oakland Coliseum, Oakland CA (12/27/89)</a>
<LI><a href="dead-sets/89/12-28-89.txt">
Oakland Coliseum, Oakland CA (12/28/89)</a>
<LI><a href="dead-sets/89/12-30-89.txt">
Oakland Coliseum, Oakland CA (12/30/89)</a>
<LI><a href="dead-sets/89/12-31-89.txt">
Oakland Coliseum, Oakland CA (12/31/89)</a>
</UL>
"@

$lines = ($page1 -split '[\r\n]')| ?{$_}

foreach ($line in $lines)
 {
   Switch -Regex  ($line) 
   {
     'TITLE' {continue}
     'H1'    {continue}
     'UL'    {continue}
     default           # the show parts!
     {
       If ($line -match '<li>') 
           { $Filename = $line.split('`"')[1]}
       Else 
           {$Show = $line.split('(')[0] # Full Show name
            $s1 = $show.split(',')[0]

            If ($show.split(',').count -ge 2)
                  {$s2 = $show.split(',')[1].Trim()}

            If ($show.split(',').count -ge 3)
                  {$s3 = $show.split(',')[2].Trim()}

            $sm   = $line.split('(')[1].split(')')[0].split('/')[0]
            $sd   = $line.split('(')[1].split(')')[0].split('/')[1]
            $sy   = $line.split('(')[1].split(')')[0].split('/')[2]
           }
     # Create/emit object
          $o = [ordered] @{Year = $sy; Month=$sm; Day = $sd;
                           S1 = $s1; S2 = $s2; S3 = $s3; FileName=$Filename}
          New-object pscustomobject -Property $o
     
     }
   }
}

